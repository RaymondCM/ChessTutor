function Init_Stockfish(){sf_accurateCentipawns&&stockfishEngine.postMessage("setoption name MultiPV value 50")}function AskEngine(e,r){stockfishEngine.postMessage("position fen "+e),stockfishEngine.postMessage((sf_timeOverDepth?"go movetime ":"go depth ")+r)}function getScore(e){infoToObj=function(e){for(var r=e.split(" "),t={},a=0,o="";a<r.length;a++)r[a].match(/[-0-9]+/)?(t[o]=r[a],o=""):o=""==o?r[a]:o+"_"+r[a];return t};var r=infoToObj(e);return"w"===game.turn()&&r.hasOwnProperty("score_cp")?sf_scoreWhite=r.score_cp:r.hasOwnProperty("score_cp")&&(sf_scoreBlack=r.score_cp),(r.score_cp?"Centipawn Score: ":"Mate Score: ")+game.turn()+("w"===game.turn()?sf_scoreWhite:sf_scoreBlack)}var stockfishEngine="function"==typeof STOCKFISH?STOCKFISH():new Worker("js/opensource/stockfish.js"),lastPonder="";stockfishEngine.onmessage=function(e){if("bestmove"!==e.data.toString().substr(0,8))return void("info depth"==e.data.toString().substr(0,10)&&(lastPonder=e.data));getScore(lastPonder);var r=game.turn(),t=e.data.substring(9,13);$("#suggestedMove").html("SUGGESTED MOVE FOR "+r+": "+t),(!game.game_over()&&cb_autoPlay||game_pve&&game_playerSide!=r)&&(cb_autoPlayMove=setTimeout(MovePiece,cb_autoPlayDelay,t.substr(0,2),t.substr(2,4)))};