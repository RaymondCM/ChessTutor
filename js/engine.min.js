function Init_Stockfish(){sf_accurateCentipawns&&stockfishEngine.postMessage("setoption name MultiPV value 100")}function AskEngine(e,a){stockfishEngine.postMessage("position fen "+e),stockfishEngine.postMessage((sf_timeOverDepth?"go movetime ":"go depth ")+a)}function getScore(e){infoToObj=function(e){for(var a=e.split(" "),r={},t=0,o="";t<a.length;t++)a[t].match(/[-0-9]+/)?(r[o]=a[t],o=""):o=""==o?a[t]:o+"_"+a[t];return r};var a=infoToObj(e);return"w"===game.turn()&&a.hasOwnProperty("score_cp")?sf_scoreWhite=a.score_cp:a.hasOwnProperty("score_cp")&&(sf_scoreBlack=a.score_cp),(a.score_cp?"Centipawn Score: ":"Mate Score: ")+game.turn()+("w"===game.turn()?sf_scoreWhite:sf_scoreBlack)}var stockfishEngine="function"==typeof STOCKFISH?STOCKFISH():new Worker("js/opensource/stockfish.js"),lastPonder="";stockfishEngine.onmessage=function(e){if("bestmove"!==e.data.toString().substr(0,8))return void("info depth"==e.data.toString().substr(0,10)&&(lastPonder=e.data));getScore(lastPonder);var a=game.turn(),r=e.data.substring(9,13);$("#suggestedMove").html("SUGGESTED MOVE FOR "+a+": "+r),(!game.game_over()&&cb_autoPlay||game_pve&&game_playerSide!=a)&&(cb_autoPlayMove=setTimeout(MovePiece,cb_autoPlayDelay,r.substr(0,2),r.substr(2,4)))};